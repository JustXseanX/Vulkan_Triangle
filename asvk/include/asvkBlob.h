//-------------------------------------------------------------------------------------------------
// File : asvkBlob.h
// Desc : Byte Length Object Module.
// Copyright(c) Project Asura. All right reserved.
//-------------------------------------------------------------------------------------------------
#pragma once

//-------------------------------------------------------------------------------------------------
// Includes
//-------------------------------------------------------------------------------------------------
#include <asvkRef.h>


namespace asvk {

///////////////////////////////////////////////////////////////////////////////////////////////////
// IBlob interfaces
///////////////////////////////////////////////////////////////////////////////////////////////////
struct IBlob : public IReference
{
    //---------------------------------------------------------------------------------------------
    //! @brief      デストラクタです.
    //---------------------------------------------------------------------------------------------
    virtual ~IBlob()
    { /* DO_NOTHING */ }

    //---------------------------------------------------------------------------------------------
    //! @brief      バッファポインタを取得します.
    //!
    //! @return     バッファポインタを返却します.
    //---------------------------------------------------------------------------------------------
    virtual void* GetBufferPointer() const = 0;

    //---------------------------------------------------------------------------------------------
    //! @brief      バッファサイズを取得します.
    //!
    //! @return     バッファサイズを返却します.
    //---------------------------------------------------------------------------------------------
    virtual size_t GetBufferSize() const = 0;
};

//-------------------------------------------------------------------------------------------------
//! @brief      ファイルから読み込みします.
//!
//! @param[in]      filename        ファイル名.
//! @param[out]     ppOut           読み込みデータの格納先.
//! @retval true    読み込みに成功.
//! @retval false   読み込みに失敗.
//-------------------------------------------------------------------------------------------------
bool ReadFileToBlob(const wchar_t* filename, IBlob** ppOut);

//-------------------------------------------------------------------------------------------------
//! @brief      ファイルに書き込みします.
//!
//! @param[in]      filename        ファイル名.
//! @param[int]     pBlob           書き込みデータ.
//! @retval true    書き込みに成功.
//! @retval false   書き込みに失敗.
//-------------------------------------------------------------------------------------------------
bool WriteBlobToFile(const wchar_t* filename, const IBlob* pBlob);


} // namespace asvk
